\documentclass[a4paper, 11pt,reqno]{article}
 \usepackage{enumitem} 

 \author{Olivier Glorieux} 
 \input{/Users/olivierglorieux/Desktop/BCPST/2020:2021/preambule.tex}
 \lstset{basicstyle=\footnotesize, columns=fullflexible, language=python}
% \geometry{hmargin=2.0cm, vmargin=1.5cm} 

 \begin{document}

 \title{DM info : jeu du pendu} 

\noindent Le but de ce DM est de créer un jeu du pendu sur Python. 


Le jeu devra se présenter comme suit. Quand on lance le programme, l'ordinateur choisi un mot de 7 lettres au hasard (parmi une liste de mots pré-enregistrés). Le joueur proposera une lettre et l'odinateur devra dire si la lettre est bien dans le mot choisi. Si c'est le cas, l'ordinateur explicitera la (ou les) place(s) de la lettre présente dans le mot.

Le joueur aura un certain nombre d'essais (disons 10) afin de trouver le mot. 

Si le joueur trouve le mot le programme affiche 'gagné' et s'arrête. Si le joueur ne toruve pas le mot le programme affiche 'perdu' et s'arrête. 


\begin{exercice}


\begin{enumerate}
\item On suppose que l'on dipose d'une liste \texttt{dictionnaire} contenant tous les mots du dictionnaire. (Pour vos testes, créer une liste  \texttt{dictionnaire} contenant trois mots : 'coucou', 'olivier', 'matrice' )

Ecrire une fonction \texttt{mots\_de7lettres} qui retourne une liste ne contenant que les mots de 7 lettres du \texttt{dictionnaire}.

\item Ecrire une fonction \texttt{choix\_mot}, qui choisit un mot de 7 lettres aléatoirement.
(On pourra utiliser la fonction \texttt{len} qui prend en argument une chaine de caractères et qui retourne sa taille, (comme pour les listes) ) 

\item Ecrire une fonction \texttt{transform} qui prend en argument une chaine de caractères \texttt{S} et retourne une liste dont chaque entrée est une lettre de la chaine \texttt{S}.

\item Créer une fonction \texttt{test\_lettre} qui prend en argument un mot \texttt{M} et une lettre \texttt{a} et retourne la (ou les) position de la lettre \texttt{a} dans le mot \texttt{M}. Si \texttt{a} n'est pas dans le mot, la fonction retournera la liste vide. 

Exemples : \texttt{test\_lettre}('olivier', 'i') --> [2, 4] et \texttt{test\_lettre}('olivier', 'w') --> []

\item Ecrire une fonction  \texttt{reponse} qui prend en argument deux chaines de caractères. L'une \texttt{M} correspondant au mot que l'on doit trouver et l'autre \texttt{P} correspondant à la proposition du joueur. Si le joueur propose une seule lettre alors  la fonction \texttt{reponse}  retourne la (ou les places) de la lettre dans le mot \texttt{M}, si le joueur propose un mot (donc plusieurs lettres) alors la fonction \texttt{reponse} retourne \texttt{True} si le mot est bon et une liste vide si le mot est mauvais. (La liste vide permet d'être dans le même cas que si on avait donné juste une lettre qui n'est pas dans le mot) 

\item Ecrire une fonction \texttt{lettre\_connue} qui prend en argument un mot \texttt{M}  (correspondant au mot à trouver) et une liste \texttt{L}  (qui correspond au position des lettres déjà trouvées) et qui retourne une chaine de caractères où les lettres dont la position sont dans \texttt{L} s'affiche en claire et sinon sont remplacées par des '*'

Exemple : \texttt{lettre\_connue} ('olivier', [1,2,5]) retourne '*li**i**' 
\texttt{lettre\_connue} ('matrice', [0,1,2]) affiche 'ma*****'
 

 \item Compléter le code suivant qui permet de jouer au jeu du pendu  sans limite d'essais. 
\newpage
 \begin{lstlisting}
 def pendu():
    mot_a_trouver=.....
    mot_propose=''
    list_lettres_connues=[]
    while mot_propose != ......:    
        l=lettres_connues(.... , ....)
        # On affiche les lettres deja trouvees par le joueur)
        print(l)

        mot_propose = input('Donner une lettre ou une proposition') 
        #on demande au joueur une nouvelle lettre ou une nouvelle propostion

        rep=reponse(...., .... ) 
        #on analyse la reponse.

        if ...==.... : #si le joueur a trouve le bon mot
            print( ....  )# on le felicite
            return #on arrete le programme

        else: #sinon
            if len(rep)......:  #soit le mot n'est pas le bon ou la lettre n'est pas dans le mot
                print('essaye encore') #et on lui dit de reesayer

            else:
                print('il y a ' +...... +' lettre ' + .... )  
                #on affiche le nombre de fois ou la lettre proposee 
                #apparait dans le mot cherche
                
                list_lettres_connues=....+.... 
                #et on ajoute a la liste des lettres 
                #connues les nouvelles lettres.

 \end{lstlisting}
 
 \item Améliorer la fonction \texttt{pendu} pour que le programme s'arrête après 10 essais infructueux et affiche à chaque essais le nombre de tentatives restantes. 


\end{enumerate}
\end{exercice}




\end{document}